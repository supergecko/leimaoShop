(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myOrder/myOrder"],{"0bf9":function(e,t,n){"use strict";var a=n("5fbd"),o=n.n(a);o.a},"0cd6":function(e,t,n){},1843:function(e,t,n){"use strict";(function(e){n("5942"),n("921b");a(n("66fd"));var t=a(n("7765"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"3cd1":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62");function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"cfa5"))},s=function(){return n.e("components/QS-tabs/QS-tabs").then(n.bind(null,"5f97"))},u={components:{QSTabs:s,uniPopup:c},computed:i({},(0,o.mapState)(["hasLogin"]),{captchaSrc:function(){return this.qrCodeUrl.replace(/[\r\n]/g,"")}}),onNavigationBarButtonTap:function(){e.reLaunch({url:"../user/user"})},data:function(){return{current_1:0,tabs_1:["算力套餐订单","电费订单"],tabs_2:["全部订单","待付款","待发货","已发货","已完成"],current_2:0,All:[],unpaidArry:[],undelivery:[],delivery:[],completed:[],electricity_list:[],qrCodeUrl:"",networkImgSrc:"",unpaid:0,formLabelAlign:{bank_account:"",bank_name:"",bank_open:"",bank_title:""}}},methods:{actualPrice:function(e){return parseFloat(e).toFixed(2)},_payAgain:function(t){var n=this;e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"重新支付中"});var o=e.getStorageSync("userID"),i=t,r=Date.parse(new Date)/1e3,c=this.$md5("".concat(o,"__").concat(i,"__").concat(r,"__elseleimaohasjer2860")),s={user_id:o,order_id:i,timestamp:r,sign:c};this.$ajax.post({url:this.$service.api_lists.payAgain,data:s}).then(function(t){if(1==t.data.code)if(t.data.data.pay_type<3)n.qrCodeUrl=t.data.data.base64,n.networkImgSrc=t.data.data.qrcode,n.unpaid=t.data.data.unpaid,n.$refs.qrcode.open();else if(3===t.data.data.pay_type){e.showToast({icon:"none",title:"支付成功"});setTimeout(function(){e.reLaunch({url:"../myOrder/myOrder"})},1500)}else n.formLabelAlign.bank_account=t.data.data.address.bank_account,n.formLabelAlign.bank_name=t.data.data.address.bank_name,n.formLabelAlign.bank_open=t.data.data.address.bank_open,n.formLabelAlign.bank_title=t.data.data.address.bank_title,n.unpaid=t.data.data.unpaid,n.$refs.underLine.open();e.hideLoading(),console.log(a(t," at pages\\myOrder\\myOrder.vue:335"))}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})},successPay:function(t){this.$refs[t].close();setTimeout(function(){e.reLaunch({url:"../myOrder/myOrder"})},1500)},cancel:function(e){this.$refs[e].close()},handleDownloadQrIMg:function(t){e.showActionSheet({itemList:["保存到相册"],success:function(n){0==n.tapIndex&&(e.showLoading({title:"保存中..."}),setTimeout(function(){e.hideLoading()},6e3),e.downloadFile({url:t,success:function(t){200===t.statusCode&&e.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){e.hideLoading(),e.showToast({title:"保存成功！"})}})}}))}})},copyText:function(t){e.setClipboardData({data:t,success:function(){console.log(a("success"," at pages\\myOrder\\myOrder.vue:434"))}})},_mobileOrderList:function(){var t=this;e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"加载中"});var n=e.getStorageSync("userID"),o=Date.parse(new Date)/1e3,i=this.$md5("".concat(n,"__").concat(o,"__elseleimaohasjer2860")),r={user_id:n,timestamp:o,sign:i};this.$ajax.post({url:this.$service.api_lists.mobileOrderList,data:r}).then(function(n){1==n.data.code&&(t.All=n.data.data.all,t.unpaidArry=n.data.data.unpaid,t.undelivery=n.data.data.undelivery,t.delivery=n.data.data.delivery,t.completed=n.data.data.completed),e.hideLoading(),console.log(a(n," at pages\\myOrder\\myOrder.vue:472"))}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})},_orderDataList:function(){var t=this;e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"加载中"});var n=e.getStorageSync("userID"),o=Date.parse(new Date)/1e3,i=this.$md5("".concat(n,"__").concat(o,"__elseleimaohasjer2860")),r={user_id:n,timestamp:o,sign:i};this.$ajax.post({url:this.$service.api_lists.orderDataList,data:r}).then(function(n){1==n.data.code&&(t.electricity_list=n.data.data.electricity_list),e.hideLoading(),console.log(a(n," at pages\\myOrder\\myOrder.vue:510"))}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})},toPage:function(t){e.navigateTo({url:"../orderDetails/orderDetails?order_id="+t})},toChargeRecharge:function(t){e.navigateTo({url:"../chargeRecharge/chargeRecharge?order_electricity_id="+t})},change1:function(e,t){this.current_1=e},change2:function(e,t){this.current_2=e}},onLoad:function(t){this.hasLogin?(this._mobileOrderList(),this._orderDataList()):e.reLaunch({url:"../login/loginPas"})},onPullDownRefresh:function(){var t=this,n=setTimeout(function(){t._mobileOrderList(),t._orderDataList(),e.stopPullDownRefresh(),e.showToast({icon:"none",title:"刷新成功"})},1e3);e.getNetworkType({success:function(t){"none"==t.networkType&&(e.showToast({icon:"none",title:"当前网络不可用"}),clearTimeout(n),e.stopPullDownRefresh())}})}};t.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])},4602:function(e,t,n){"use strict";n.r(t);var a=n("3cd1"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},"5fbd":function(e,t,n){},7765:function(e,t,n){"use strict";n.r(t);var a=n("d011"),o=n("4602");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("9d9a"),n("0bf9");var r=n("2877"),c=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"61b8ec65",null);t["default"]=c.exports},"9d9a":function(e,t,n){"use strict";var a=n("0cd6"),o=n.n(a);o.a},d011:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})}},[["1843","common/runtime","common/vendor"]]]);